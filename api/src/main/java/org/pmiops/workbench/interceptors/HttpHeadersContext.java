package org.pmiops.workbench.interceptors;

import org.springframework.http.HttpHeaders;

/**
 * Maintains the headers attached to the current request context. While these can be injected
 * directly into a Spring Boot controller, we can't easily do so in this project since we use
 * autogenerated Swagger controller stubs. Instead we can bind to a ThreadLocal, thereby allowing
 * for lower level injection of headers into services, etc for the lifespan of the request.
 */
public class HttpHeadersContext {

  private static ThreadLocal<HttpHeaders> httpHeaders = new ThreadLocal<>();

  public static void setHttpHeaders(HttpHeaders h) {
    httpHeaders.set(h);
  }

  public static void clearHttpHeaders() {
    httpHeaders.remove();
  }

  public static HttpHeaders getHttpHeaders() {
    return httpHeaders.get();
  }
}
