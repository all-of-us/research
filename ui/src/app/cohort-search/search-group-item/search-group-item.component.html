<div class="flex-container">

  <div class="line-item">
    <button
      type="button"
      class="btn btn-link btn-sm"
      (click)="launchWizard()">
      <clr-icon shape="pencil"></clr-icon>
    </button>

    <small
      [popper]="codesPopper"
      [popperTrigger]="'hover'"
      [popperPlacement]="'bottom'"
      class="trigger padding-right">
      <span *ngIf="itemIndex > 0" class="font-weight-bold">OR </span>
      <span class="code-text">Contains </span>
      <span class="code-text">{{ codeTypeDisplay }}</span>
    </small>

    <small class="code-text padding-right">|</small>

    <span *ngIf="isRequesting" class="spinner spinner-inline">
      Loading...
    </span>
    <small *ngIf="!isRequesting" class="code-text">
      {{ item.get('count') | number }}
    </small>
    <span *ngIf="error">
      <clr-icon
        [popper]="errorPopper"
        [popperTrigger]="'hover'"
        shape="error-standard"
        size="16"></clr-icon>
    </span>
  </div>

  <div>
    <button
      type="button"
      type="button"
      class="btn btn-link btn-sm"
      id="close-button"
      (click)="remove()">
      <clr-icon shape="close" size="24"></clr-icon>
    </button>
  </div>
</div>

<popper-content #codesPopper>
  <h3 [style.margin]="'0'">{{ codeTypeDisplay }}</h3>
  <p  [style.margin]="'0'">{{ codes }}</p>
</popper-content>

<popper-content #errorPopper>
  <p  [style.margin]="'0'">A problem occurred and we were not able to retrieve the requested data</p>
</popper-content>
