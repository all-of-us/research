<span *ngIf="loading; then requestingNodes else nodesLoaded"></span>

<ng-template #requestingNodes>
  <span class="spinner spinner-inline">Loading...</span>
  <span>Loading...</span>
</ng-template>

<ng-template #nodesLoaded>
  <clr-tree-node *ngFor="let node of children; trackBy: trackById">
    <app-node-info [node]="node"></app-node-info>

    <ng-template clrIfExpanded>
      <app-tree-node [node]="node"></app-tree-node>
    </ng-template>
  </clr-tree-node>
</ng-template>
