<div class="selected-cohort">{{selectedCohortName}}</div>
<div class="participant-container">
  <div class="participant-title">Participants</div>
  <div class="total-heading" *ngIf="totalParticipantCount">Cohort Total: {{totalParticipantCount | number}} Participants</div>
</div>
<div [ngClass]="[ openChartContainer? 'overview-container': 'overview-small-container']">
  <div>
    <span class="overview-title">Overview</span>
    <span *ngIf="openChartContainer" (click)="openChartContainer=!openChartContainer"><clr-icon shape="play" size="15" style="transform: rotate(90deg);" class="is-solid play-icon"></clr-icon></span>
    <span *ngIf="!openChartContainer" (click)="openChartContainer=!openChartContainer"><clr-icon size="15" shape="play" style="transform: rotate(270deg);" class="is-solid play-icon"></clr-icon></span>
  </div>
  <div class="chart-heading" *ngIf="showTitle && openChartContainer">
    Top 10 {{title}} of Participants in Cohort
  </div>
  <div class="button-chart-container" *ngIf="openChartContainer">
    <div class="button-container">
      <div (click)="getDemoCharts()" >
        <button type="button"
                [ngClass]="[ demoGraph? 'btn-outline': 'btn-primary']"
                class="overview-buttons btn">
          Demographics
        </button>
      </div>
      <div *ngFor = "let name of typesList" (click)="getDifferentCharts(name)">
        <button type="button"
                [ngClass]="[ name === title ?'btn-outline': 'btn-primary']"
                class="overview-buttons btn btn-primary">
        {{name}}
        </button>
      </div>
    </div>

    <!--participants of cohort chart views start-->
    <div class="chart-container">
      <div *ngIf="spinner" class="loading-spinner spinner spinner-lg spin-in-overlay">
        Loading...
      </div>
      <app-combo-chart
              *ngIf="data?.size && demoGraph"
              [mode]="'stacked'"
              [data]="data">
      </app-combo-chart>
      <div *ngIf="showTitle">
        <div class="data-container" *ngFor="let items of domainItems">
          <ng-container *ngIf="items.name.length >=50">
            <div  class=" data-heading"
                 [popper]="codesPopper"
                 [popperTrigger]="'hover'"
                 [popperPlacement]="'bottom'">
              {{items.name}}
            </div>
          </ng-container>
       <ng-container  *ngIf="items.name.length < 50">
         <div class=" data-heading">
           {{items.name}}
         </div>
       </ng-container>

          <div class="divider"></div>
          <div class="data-bar-container">
            <div class="light-grey">
              <div class="data-blue" style="height:24px;" [style.width.%]="items.percentCount| number:'1.0-0'">
                <ng-container *ngIf="items.percentCount >= 90">
                  {{items.count}}
                </ng-container>
              </div>
              <div class="count" style="height:24px;" [style.width.%]="100-items.percentCount">
                <ng-container *ngIf="items.percentCount < 90">
                  {{items.count}}
                </ng-container>
              </div>
            </div>
          </div>
          <div class="data-percent">
              {{items.percentCount| number:'1.0-0'}} % of Cohort
          </div>
            <popper-content #codesPopper>
              <p class="tooltip-text" [style.margin]="'0'">{{items.name}}</p>
            </popper-content>
        </div>
      </div>
    </div>
  </div>
</div>
