<div #wrapper class="cohort-review-wrapper">
  <div *ngIf="loading" class="spinner">Loading...</div>

  <!-- Main subject navigation sidebar -->
  <div #subjectNav
    class="subject-nav"
    [class.subject-nav-open]="open">
    <a class="closebtn" (click)="open = false">&times;</a>
    <a (click)="open = false"
      routerLink="overview"
      routerLinkActive="active">
      Overview
    </a>
    <hr />
    <a *ngFor="let subject of (subjects$ | async)"
      (click)="open = false"
      [routerLink]="[subject.id]"
      routerLinkActive="active">
      {{ subject.id}}
      <span class="label"
        [ngClass]="statusClass(subject.status)">
        {{ statusText(subject.status) }}
      </span>
    </a>
  </div>

  <!-- Main content area for the Cohort Review Sub-application -->
  <div class="cohort-review-main"
    [style.margin-left]="open ? '300px' : 0">
    <button #openNav (click)="open = true">Open</button>
    <router-outlet></router-outlet>
  </div>

  <!-- Sidebar is active overlay -->
  <div class="blanket" [class.blanket-active]="open"></div>

  <!-- Cohort creation modal -->
  <clr-modal
    #createCohortModal
    [clrModalStaticBackdrop]="false"
    [clrModalSize]="'lg'">
  </clr-modal>
</div>
