<clr-datagrid [clrDgLoading]="loading" class="datagrid-compact">

  <clr-dg-placeholder>No {{ tabname }} Data</clr-dg-placeholder>

  <clr-dg-column *ngFor="let col of columns"
    [clrDgField]="col.notField ? null : col.name"
    [clrDgSortBy]="sortByColumn(col.name)"
    [ngClass]="col.classNames"
    [class.gray]="isSelected(col.name)"
    >
    {{ col.displayName }}
    <clr-dg-filter [clrDgFilter]="clearFilter">
      <app-clearbutton-in-memory-filter
        #clearFilter
        [property]="col.name"
        (filterChanges)="isFiltered($event)">
      </app-clearbutton-in-memory-filter>
    </clr-dg-filter>
  </clr-dg-column>

  <clr-dg-row *clrDgItems="let datum of data"
    (click)="onClick(datum)">
    <clr-dg-cell *ngFor="let col of columns" class="cell">
      <ng-container [ngSwitch]="true">
        <span *ngSwitchCase="col.name === 'itemDate'
          || col.name === 'endDate'
          || col.name === 'firstMention'
          || col.name === 'lastMention'">
          {{ datum[col.name] | date: 'yyyy-MM-dd HH:mm' }}
        </span>
        <span *ngSwitchCase="col.name === 'sourceVocabulary'"
          [style.width.%]="100"
          [style.height.%]="100"
          [popper]="datum.sourceName || ''"
          [popperTrigger]="'hover'"
          [popperPlacement]="'left'"
          [popperTarget]="valueSource">
          <span #valueSource>{{ datum.sourceVocabulary }}</span>
        </span>
        <span *ngSwitchDefault >
          {{ datum[col.name] }}
        </span>
      </ng-container>
    </clr-dg-cell>
  </clr-dg-row>

  <clr-dg-footer>
    {{ pagination.firstItem + 1 }} - {{ pagination.lastItem + 1 }} of {{ totalCount }} Records
    <clr-dg-pagination #pagination [clrDgPageSize]="pageSize">
    </clr-dg-pagination>
  </clr-dg-footer>
</clr-datagrid>
