<div class="bug-report">
  <clr-modal [(clrModalOpen)]="reporting" [clrModalSize]="'lg'">
    <h3 class="modal-title">Report Bug</h3>
    <div class="modal-body">

      <div class="form-area">
        <div class="form-section">
          <label>Description:</label>
          <input id="bug-report-short-descr" type="text" class="input" name="short-description" autofocus
              [(ngModel)]="bugReport.shortDescription">
        </div>
        <div class="form-section">
          <label>Bug Type:</label>
          <select id="bug-report-type" type="text" class="input" name="bug-type"
                  [(ngModel)]="bugReport.bugType">
            <option [value]="BugReportType.APPLICATION">Workbench Application</option>
            <option [value]="BugReportType.DATA">Data Quality</option>
          </select>
        </div>
        <div class="form-section">
          <label>How to Reproduce:</label>
          <textarea id="bug-report-repro-steps" class="input" name="repro-steps"
              [(ngModel)]="bugReport.reproSteps">
          </textarea>
        </div>
        <div class="form-section">
          <clr-checkbox id="bug-report-notebook-logs" class="notebook-logs" name="notebook-logs"
              [(ngModel)]="bugReport.includeNotebookLogs">
          </clr-checkbox>
          <div>
            <label class="notebook-logs-label">Attach notebook logs?</label>
          </div>
        </div>
        <div class="form-section">
          <label>Contact Email:</label>
          <input id="bug-report-contact-email" type="text" class="input" name="contact-email"
              [(ngModel)]="bugReport.contactEmail">
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <div *ngIf="sendBugReportError" class="error">
        Error sending the bug report.
        <clr-icon style="margin-left: 1rem;" shape="times" (click)="sendBugReportError = false"></clr-icon>
      </div>
      <button type="button" class="btn btn-outline" (click)="reporting=false">Cancel</button>
      <div role="tooltip" aria-haspopup="true" class="tooltip tooltip-md tooltip-top-right">
        <button id="send-bug-report" type="button" class="btn btn-primary"
            [clrLoading]="submitting" [disabled]="submitting || bugReportFieldsEmpty" (click)="send()">Send</button>
        <span *ngIf="bugReportFieldsEmpty" class="tooltip-content">Description and Reproduction steps are necessary to submit a bug report.</span>
      </div>
    </div>
  </clr-modal>
</div>
