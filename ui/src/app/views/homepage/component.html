<div class="background-image">
  <div style="display:flex; justify-content:center">
    <div class="card single">
      <div *ngIf="accessTasksRemaining===false">
        <div class="row" style="flex-direction: row; height: 17.47%; margin-bottom: 0.5rem; justify-content: flex-start; flex-wrap: nowrap;">
          <div class="col main-heading">Researcher Workbench</div>
          <div class="heading-links" style="display: flex; flex-wrap: nowrap; overflow: hidden;">
            <a class="links" (click)="listWorkspaces()">See All
              Workspaces</a>
          </div>
        </div>
        <div class="row" style="flex-direction: row; align-items: flex-start; justify-content: space-between; flex-wrap: nowrap;">
          <div role="tooltip" aria-haspopup="true" class="card add-card tooltip tooltip-md tooltip-bottom-left"
               [class.disabled]="!billingProjectInitialized" (click)="!billingProjectInitialized || addWorkspace()">
            <div class="card-text" [class.disabled]="!billingProjectInitialized">
              Create a <br/> New Workspace <br/>
              <clr-icon shape="plus-circle" class="plus-circle"></clr-icon>
            </div>
            <span *ngIf="!billingProjectInitialized" class="tooltip-content">Your Firecloud billing project is still being initialized. Workspace creation will be available in a few minutes.</span>
          </div>
          <div style="margin-right: 3%; flex-grow: 1; min-width: 0;">
            <div style="color: #fff; margin-left: 1rem;">
              Your Last Accessed Items
            </div>
            <app-recent-work></app-recent-work>
          </div>
        </div>
      </div>
      <!--TODO: this logic will be removed when RW-1969 is complete-->
      <div *ngIf="accessTasksRemaining === undefined" class="spinner-container">
        <span class="spinner spinner-lg"></span>
      </div>
      <app-workbench-access-tasks *ngIf="accessTasksRemaining"
                           [eraCommonsLinked]="eraCommonsLinked"
                           [eraCommonsError]="eraCommonsError"
                           [trainingCompleted]="trainingCompleted"></app-workbench-access-tasks>
    </div>
  </div>
  <div style="display:flex; justify-content:center;flex-direction:row">
    <div class="quickRow" style="margin-top:1rem;margin-left:2.5rem;">
      <div class="quickLabel"> Quick Tour & Videos</div>
      <div>
        <a id="learn" (click)="quickTour = true"><img class="image" src="/assets/images/QT-thumbnail.svg"/></a>
      </div>
      <div>
        <a (click)="play('cohort')"><img class="image" src="/assets/images/cohorts-thumbnail.png"/></a>
      </div>
      <div>
        <a (click)="play('notebook')"><img class="image" src="/assets/images/notebooks-thumbnail.png"/></a>
      </div>
    </div>
  </div>
  <div>
    <div class="footer">
      <div class="row" style="display: flex; flex-direction:column; margin-left:5%; margin-right: 5%;">
        <div class="footerTitle">How to Use the All of Us Researcher Workbench</div>
        <div class="footerRtLink">
          <div class="tooltip">
            <a href="#" class="footerLink">
              See all documentation</a>
            <span class="tooltiptext">Coming Soon</span>
          </div>
        </div>
        <div class="row" style="display: flex; flex-grow: 1; flex-wrap: nowrap; justify-content: space-between; width: 87.34%;">
          <div *ngFor="let footer of footerLinks" class="linksBlock">
            <div class="footerText">
              <div class="title">
                <div>{{footer.title}}</div>
              </div>
              <ul class="bullets">
                <div *ngFor="let link of footer.links">
                  <li>
                    <a href="#" class="bullets">{{link}}</a>
                  </li>
                </div>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="bottom-banner">
      <div class="logo">
        <img [src]="'/assets/images/all-of-us-logo-footer.svg'">
      </div>
      <div class="bottom-links">
        Privacy Policy
      </div>
      <div class="bottom-links">
        Terms of Service
      </div>
    </div>
  </div>
</div>
<app-quick-tour-modal *ngIf="quickTour" [closeFunction]="closeQuickTour"></app-quick-tour-modal>
<clr-modal [(clrModalOpen)]="open" [clrModalSize]="'md'">
  <div class="modal-body">
    <video *ngIf="open" controls #myVideo style="width: 100%" autoplay>
      <source [src]=src type="video/mp4" />
    </video>
  </div>
</clr-modal>
