<a style="display: block; padding: 0.4rem" routerLink="/..">&lt;&lt; Back to the workspace</a>
<div *ngIf="!loadingWorkspace else loading">
  <h3>Share {{workspace.name}}</h3>
  <p style="width: 60%">Workspaces can only be shared with existing All of Us users. If you want to
  share your workspace with someone who is not yet a part of the All of Us
  community, have them <a routerLink="">create an account</a> first and then you can share the
  workspace with them.</p>
 <div style="display: flex; justify-content: flex-start">
   <div style="flex: 0 0 auto; border-right: 1px solid black">
      <h4>Add a New Collaborator</h4>
      <p>You can add multiple users at once, all with the same role.</p>

      <div class="sharing-area">
        <label class="text-label" style="display: block">Find Collaborator</label>
        <input type="text" class="input share" name="to-share" autofocus
            [(ngModel)]="toShare" placeholder="Enter name or @researchallofus.com ID">
        <clr-dropdown>
          <button type="button" class="btn btn-outline-primary sharing-buttons" clrDropdownTrigger>
            {{selectedPermission}}
            <clr-icon shape="caret down"></clr-icon>
          </button>
          <clr-dropdown-menu *clrIfOpen>
            <button type="button" clrDropdownItem (click)="selectedPermission = 'Reader'">Reader</button>
            <button type="button" clrDropdownItem (click)="selectedPermission = 'Writer'">Writer</button>
            <button type="button" clrDropdownItem (click)="selectedPermission = 'Owner'">Owner</button>
          </clr-dropdown-menu>
        </clr-dropdown>
        <button type="button" class="btn btn-primary sharing-buttons" (click)="addCollaborator()">Add Collaborator</button>
      </div>
    </div>
    <div style="padding-left: 1rem">
      <ul>
        <div *ngFor="let user of workspace.userRoles.items">
          <h5>
            <clr-icon shape="minus-circle" class="is-solid" (click)="removeCollaborator(user)"></clr-icon>
            {{user.user}}
          </h5>
          <div>{{user.role}}</div>
        </div>
      </ul>
    </div>
  </div>
</div>
<ng-template #loading>
  <span class="spinner spinner-md" style="padding-top: 1rem;"></span>
  <span class="loading-text">Loading...</span>
</ng-template>
